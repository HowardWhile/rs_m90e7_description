<?xml version="1.0" encoding="utf-8"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:macro name="rs_m90e7" params="prefix parent *origin">
    <!-- ======================================================== -->
    <!-- robot link -->
    <!-- ======================================================== -->
    <link name="${prefix}base_link">
      <inertial>
        <origin
          xyz="0.00000 0.00000 0.00000"
          rpy="0 0 0" />
        <mass
          value="1.0" />
        <inertia
          ixx=" 0.001000"
          ixy=" 0.000000"
          ixz=" 0.000000"
          iyy=" 0.001000"
          iyz=" 0.000000"
          izz=" 0.001000" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/base_link.dae" />
        </geometry>
        <material name="">
          <color rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/base_link.stl" />
        </geometry>
      </collision>
    </link>
    <link name="${prefix}link1">
      <inertial>
        <origin
          xyz=
          "-0.007155
            0.074751
            0.000996"
          rpy="0 0 0" />
        <mass
          value="5.600" />
        <inertia
          ixx=" 0.019807"
          iyy=" 0.013098"
          izz=" 0.020563"
          ixy=" 0.000000"
          ixz=" 0.000000"
          iyz=" 0.000000" />

      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link1.dae" />
        </geometry>
        <material name="">
          <color rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link1.stl" />
        </geometry>
      </collision>
    </link>
    <link name="${prefix}link2">
      <inertial>
        <origin
          xyz=
          "-0.215018
            0.080988
            0.000000"
          rpy="0 0 0" />
        <mass
          value="13.799" />
        <inertia
          ixx=" 0.041621"
          iyy=" 0.542754"
          izz=" 0.555726"
          ixy=" 0.000000"
          ixz=" 0.000000"
          iyz=" 0.000000" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link2.dae" />
        </geometry>
        <material name="">
          <color rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link2.stl" />
        </geometry>
      </collision>
    </link>
    <link name="${prefix}link3">
      <inertial>
        <origin
          xyz=
          "-0.256997
            0.061315
           -0.000055"
          rpy="0 0 0" />
        <mass
          value="4.137" />
        <inertia
          ixx=" 0.007112"
          iyy=" 0.122290"
          izz=" 0.124242"
          ixy=" 0.000000"
          ixz=" 0.000000"
          iyz=" 0.000000" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link3.dae" />
        </geometry>
        <material name="">
          <color rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link3.stl" />
        </geometry>
      </collision>
    </link>
    <link name="${prefix}link4">
      <inertial>
        <origin
          xyz=
          " 0.026648
            0.059889
            0.000116"
          rpy="0 0 0" />
        <mass
          value="2.000" />
        <inertia
          ixx=" 0.002061"
          iyy=" 0.003868"
          izz=" 0.003992"
          ixy=" 0.000000"
          ixz=" 0.000000"
          iyz=" 0.000000" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link4.dae" />
        </geometry>
        <material name="">
          <color rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link4.stl" />
        </geometry>
      </collision>
    </link>
    <link name="${prefix}link5">
      <inertial>
        <origin
          xyz=
          " 0.026648
            0.053986
            0.000116"
          rpy="0 0 0" />
        <mass
          value="2.000" />
        <inertia
          ixx=" 0.002061"
          iyy=" 0.003868"
          izz=" 0.003992"
          ixy=" 0.000000"
          ixz=" 0.000000"
          iyz=" 0.000000" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link5.dae" />
        </geometry>
        <material name="">
          <color rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link5.stl" />
        </geometry>
      </collision>
    </link>
    <link name="${prefix}link6">
      <inertial>
        <origin
          xyz=
          "-0.002215
            0.037943
           -0.000790"
          rpy="0 0 0" />
        <mass
          value="0.395" />
        <inertia
          ixx=" 0.000411"
          iyy=" 0.000483"
          izz=" 0.000429"
          ixy=" 0.000000"
          ixz=" 0.000000"
          iyz=" 0.000000" />
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link6.dae" />
        </geometry>
        <material name="">
          <color rgba="1 1 1 1" />
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="0 0 0" />
        <geometry>
          <mesh filename="package://rs_m90e7_description/meshes/link6.stl" />
        </geometry>
      </collision>
    </link>  
    <link name="${prefix}flange"/>      
    <!-- ======================================================== -->
    <!-- robot joint -->
    <!-- ======================================================== -->
    <!-- 檢查${parent}參數再決定該區快要不要輸出該joint -->
    <xacro:if value="${parent != ''}">
      <joint name="${prefix}base_joint" type="fixed">
        <xacro:insert_block name="origin" />
        <parent link="${parent}" />
        <child link="${prefix}base_link" />
      </joint>
    </xacro:if>

    <joint name="${prefix}joint1" type="revolute">
      <origin xyz="0 0 0.10095" rpy="1.5708 0 1.5708" />
      <parent link="${prefix}base_link" />
      <child link="${prefix}link1" />
      <axis xyz="0 1 0" />
      <limit lower="-6.2832" upper="6.2832" effort="0" velocity="4.7124" />
    </joint>
    <joint name="${prefix}joint2" type="revolute">
      <origin xyz="-0.06895 0.10315 0" rpy="3.1416 0 -1.5708" />
      <parent link="${prefix}link1" />
      <child link="${prefix}link2" />
      <axis xyz="0 -1 0" />
      <limit lower="-6.2832" upper="6.2832" effort="0" velocity="4.7124" />
    </joint>
    <joint name="${prefix}joint3" type="revolute">
      <origin xyz="-0.43 0.01 0" rpy="3.1416 -1.5708 0" />
      <parent link="${prefix}link2" />
      <child link="${prefix}link3" />
      <axis xyz="0 1 0" />
      <limit lower="-4.0492" upper="1.2566" effort="0" velocity="7.1558" />
    </joint>
    <joint name="${prefix}joint4" type="revolute">
      <origin xyz="-0.41 -0.0117 0" rpy="3.1416 1.5708 0" />
      <parent link="${prefix}link3" />
      <child link="${prefix}link4" />
      <axis xyz="0 -1 0" />
      <limit lower="-6.2832" upper="6.2832" effort="16.9" velocity="8.2903" />
    </joint>
    <joint name="${prefix}joint5" type="revolute">
      <origin xyz="0.07565 0.0634 0" rpy="-1.5708 -1.5708 0" />
      <parent link="${prefix}link4" />
      <child link="${prefix}link5" />
      <axis xyz="0 1 0" />
      <limit lower="-6.2832" upper="6.2832" effort="18.9" velocity="8.2903" />
    </joint>
    <joint name="${prefix}joint6" type="revolute">
      <origin xyz="0.08085 0.0634 0" rpy="-1.5708 -1.5708 0" />
      <parent link="${prefix}link5" />
      <child link="${prefix}link6" />
      <axis xyz="0 -1 0" />
      <limit lower="-6.2832" upper="6.2832" effort="10.2" velocity="13.177" />
    </joint>
    <joint name="${prefix}jointf" type="fixed">
      <origin xyz="0 0.0734 0" rpy="0 -1.5708 -1.5708" />
      <parent link="${prefix}link6" />
      <child link="${prefix}flange" />
    </joint>
   
  </xacro:macro>
</robot>